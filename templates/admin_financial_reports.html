{% extends 'admin_base.html' %}
{% block title %}Financial Reports{% endblock %}
{% block admin_content %}
<div class="p-8">
    <!-- Header Card -->
    <div class="bg-gradient-to-r from-green-400 to-cyan-400 rounded-xl p-6 flex items-center justify-between mb-8 shadow-lg" style="min-height: 90px;">
        <div>
            <h1 class="text-3xl font-bold text-white flex items-center gap-3">
                Financial Reports
                <span class="inline-block align-middle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" viewBox="0 0 24 24"><path fill="#fff" d="M4 4.75A.75.75 0 0 1 4.75 4h14.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 4.75Zm0 4A.75.75 0 0 1 4.75 8h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 8.75Zm0 4A.75.75 0 0 1 4.75 12h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 4 12.75Zm0 4A.75.75 0 0 1 4.75 16h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 4 16.75Z"/></svg>
                </span>
            </h1>
            <p class="text-lg text-white mt-2">Generate comprehensive financial reports with advanced analytics and export options.</p>
        </div>
    </div>
    <div class="bg-white bg-opacity-10 rounded-xl shadow-lg p-6 mb-8" style="backdrop-filter: blur(8px);">
        <p class="text-lg text-blue-100 mb-4">View and export detailed financial reports for your stokvel, including transactions, balances, and summaries. Use the filters below to customize your report.</p>
        <!-- Filters (date range, type, etc.) -->
        <form class="flex flex-wrap gap-4 mb-6">
            <div>
                <label class="block text-blue-100 mb-1">From</label>
                <input type="date" name="from" class="rounded px-3 py-2 bg-white bg-opacity-20 text-blue-900 focus:outline-none">
            </div>
            <div>
                <label class="block text-blue-100 mb-1">To</label>
                <input type="date" name="to" class="rounded px-3 py-2 bg-white bg-opacity-20 text-blue-900 focus:outline-none">
            </div>
            <div>
                <label class="block text-blue-100 mb-1">Type</label>
                <select name="type" class="rounded px-3 py-2 bg-white bg-opacity-20 text-blue-900 focus:outline-none">
                    <option value="all">All</option>
                    <option value="deposit">Deposits</option>
                    <option value="payout">Payouts</option>
                    <option value="fee">Fees</option>
                </select>
            </div>
            <button type="submit" class="ml-auto bg-gradient-to-r from-blue-400 to-cyan-400 text-white font-semibold px-6 py-2 rounded shadow hover:scale-105 transition-transform">Filter</button>
        </form>
        <!-- Report Table Placeholder -->
        <div class="overflow-x-auto">
            <table class="min-w-full text-left text-blue-100">
                <thead>
                    <tr class="bg-blue-900 bg-opacity-60">
                        <th class="py-2 px-4">Date</th>
                        <th class="py-2 px-4">Type</th>
                        <th class="py-2 px-4">Amount</th>
                        <th class="py-2 px-4">User</th>
                        <th class="py-2 px-4">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example row -->
                    <tr class="hover:bg-blue-800 bg-opacity-30 transition">
                        <td class="py-2 px-4">2024-06-01</td>
                        <td class="py-2 px-4">Deposit</td>
                        <td class="py-2 px-4">R 1,000.00</td>
                        <td class="py-2 px-4">John Doe</td>
                        <td class="py-2 px-4">Completed</td>
                    </tr>
                    <!-- More rows will be dynamically loaded here -->
                </tbody>
            </table>
        </div>
        <div class="mt-6 flex gap-4">
            <button class="bg-gradient-to-r from-green-400 to-blue-400 text-white font-semibold px-6 py-2 rounded shadow hover:scale-105 transition-transform">Export CSV</button>
            <button class="bg-gradient-to-r from-yellow-400 to-pink-400 text-white font-semibold px-6 py-2 rounded shadow hover:scale-105 transition-transform">Export PDF</button>
        </div>
    </div>
    <!-- Placeholder for future charts or summary cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
        <div class="bg-white bg-opacity-10 rounded-xl shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-2 text-blue-200">Income vs Expenses</h2>
            <canvas id="incomeExpenseChart" height="120"></canvas>
        </div>
        <div class="bg-white bg-opacity-10 rounded-xl shadow-lg p-6">
            <h2 class="text-xl font-semibold mb-2 text-blue-200">Monthly Summary</h2>
            <canvas id="monthlySummaryChart" height="120"></canvas>
        </div>
    </div>
</div>
{% endblock %}
{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Placeholder: Fetch and render charts for financial reports
const ctx1 = document.getElementById('incomeExpenseChart').getContext('2d');
const ctx2 = document.getElementById('monthlySummaryChart').getContext('2d');
new Chart(ctx1, { type: 'bar', data: { labels: ['Jan', 'Feb', 'Mar'], datasets: [{ label: 'Income', data: [1200, 1500, 1100], backgroundColor: 'rgba(34,211,238,0.7)' }, { label: 'Expenses', data: [800, 900, 700], backgroundColor: 'rgba(251,191,36,0.7)' }] }, options: { responsive: true, plugins: { legend: { labels: { color: '#fff' } } }, scales: { x: { ticks: { color: '#fff' } }, y: { ticks: { color: '#fff' } } } } });
new Chart(ctx2, { type: 'line', data: { labels: ['Jan', 'Feb', 'Mar'], datasets: [{ label: 'Net', data: [400, 600, 400], borderColor: 'rgba(168,85,247,1)', backgroundColor: 'rgba(168,85,247,0.2)', fill: true }] }, options: { responsive: true, plugins: { legend: { labels: { color: '#fff' } } }, scales: { x: { ticks: { color: '#fff' } }, y: { ticks: { color: '#fff' } } } } });
</script>
{% endblock %}
